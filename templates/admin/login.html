{% extends "admin/base.html" %}
{% load i18n static %}

{% block extrastyle %}{{ block.super }}
<link href="https://fonts.googleapis.com/css2?family=Great+Vibes&family=Playfair+Display:wght@600;700&display=swap"
    rel="stylesheet">
<link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css" rel="stylesheet">
<style>
    body {
        background: linear-gradient(135deg, #f0e6d8 0%, #fce4ec 100%) !important;
        font-family: 'Playfair Display', serif !important;
    }

    #container {
        background: none !important;
    }

    #content {
        background: linear-gradient(135deg, #ffd4e5 0%, #ffe8f0 50%, #fff5f8 100%) !important;
        border: 3px solid #d4af37 !important;
        border-radius: 15px !important;
        box-shadow: 0 8px 32px rgba(212, 175, 55, 0.3) !important;
        max-width: 400px !important;
        margin: 50px auto !important;
        padding: 30px !important;
    }

    #content-main {
        width: 100% !important;
    }

    .login {
        background: none !important;
        border: none !important;
    }

    .login #header {
        background: none !important;
        border: none !important;
        text-align: center !important;
        margin-bottom: 30px !important;
    }

    .login #header h1 {
        font-family: 'Great Vibes', cursive !important;
        color: #d4af37 !important;
        font-size: 3rem !important;
        margin: 0 !important;
        text-shadow: 2px 2px 4px rgba(212, 175, 55, 0.1) !important;
    }

    .login #header h1 a {
        color: #d4af37 !important;
        text-decoration: none !important;
    }

    .login form {
        background: none !important;
        border: none !important;
        padding: 0 !important;
    }

    .login .form-row {
        margin-bottom: 20px !important;
    }

    .login .form-row label {
        color: #d4af37 !important;
        font-weight: 600 !important;
        font-size: 1.1rem !important;
    }

    .login .form-row input[type="text"],
    .login .form-row input[type="password"] {
        background: linear-gradient(135deg, rgba(255, 255, 255, 0.9) 0%, rgba(255, 248, 250, 0.9) 100%) !important;
        border: 2px solid #f5a3b8 !important;
        border-radius: 8px !important;
        padding: 12px !important;
        font-size: 1rem !important;
        width: 100% !important;
        transition: all 0.3s ease !important;
    }

    .login .form-row input[type="text"]:focus,
    .login .form-row input[type="password"]:focus {
        border-color: #d4af37 !important;
        box-shadow: 0 0 10px rgba(212, 175, 55, 0.3) !important;
        outline: none !important;
    }

    .login .submit-row {
        text-align: center !important;
        margin-top: 30px !important;
    }

    .login .submit-row input[type="submit"] {
        background: linear-gradient(135deg, #ffd4e5 0%, #ffb3d1 100%) !important;
        border: 3px solid #d4af37 !important;
        color: #d4af37 !important;
        font-weight: 700 !important;
        font-size: 1.2rem !important;
        padding: 12px 30px !important;
        border-radius: 25px !important;
        cursor: pointer !important;
        transition: all 0.3s ease !important;
        font-family: 'Playfair Display', serif !important;
    }

    .login .submit-row input[type="submit"]:hover {
        background: linear-gradient(135deg, #ffb3d1 0%, #ff99c2 100%) !important;
        transform: translateY(-3px) !important;
        box-shadow: 0 6px 16px rgba(212, 175, 55, 0.4) !important;
    }

    .errornote {
        background: #ffebee !important;
        border: 2px solid #f5a3b8 !important;
        color: #d32f2f !important;
        border-radius: 8px !important;
        padding: 15px !important;
        margin-bottom: 20px !important;
    }
</style>
{% endblock %}

{% block bodyclass %}{{ block.super }} login{% endblock %}

{% block usertools %}{% endblock %}

{% block nav-global %}{% endblock %}

{% block content_title %}{% endblock %}

{% block breadcrumbs %}{% endblock %}

{% block content %}
<div id="content-main">
    <div id="header">
        <h1><i class="bi bi-scissors" style="margin-right: 15px;"></i>Luxe Hair Studio</h1>
        <p style="color: #d4af37; font-size: 1.2rem; margin: 10px 0 0 0; font-weight: 500;">Salon Administration</p>
    </div>

    {% if form.errors and not form.non_field_errors %}
    <p class="errornote">
        {% if form.errors.items|length == 1 %}{% trans "Please correct the error below." %}{% else %}{% trans "Please
        correct the errors below." %}{% endif %}
    </p>
    {% endif %}

    {% if form.non_field_errors %}
    {% for error in form.non_field_errors %}
    <p class="errornote">{{ error }}</p>
    {% endfor %}
    {% endif %}

    <div id="login-form">
        <div class="form-row">
            <label for="{{ form.username.id_for_label }}" class="required">{{ form.username.label }}:</label>
            {{ form.username }}
        </div>
        <div class="form-row">
            <label for="{{ form.password.id_for_label }}" class="required">{{ form.password.label }}:</label>
            {{ form.password }}
        </div>
        {% url 'admin_password_reset' as password_reset_url %}
        {% if password_reset_url %}
        <div class="password-reset-link">
            <a href="{{ password_reset_url }}" style="color: #d4af37; text-decoration: none;">{% trans 'Forgotten your
                password or username?' %}</a>
        </div>
        {% endif %}
        <div class="submit-row">
            <input type="submit" value="{% trans 'Log in' %}" />
        </div>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', function () {
            // Wrap the form
            const form = document.querySelector('form');
            const loginForm = document.getElementById('login-form');

            // Move form elements into our custom div
            const formElements = form.querySelectorAll('.form-row, .submit-row, .password-reset-link');
            formElements.forEach(element => {
                loginForm.appendChild(element);
            });

            // Set form attributes
            form.method = 'post';
            form.action = '';

            // Add CSRF token
            const csrfInput = form.querySelector('[name="csrfmiddlewaretoken"]');
            if (csrfInput) {
                loginForm.appendChild(csrfInput);
            }
        });
    </script>
</div>
{% endblock %}